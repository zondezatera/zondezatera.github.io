<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS test</title>
</head>
<body>
  <script>
    const urls = {
      deepLink: 'intent://judo-pay?process=success#Intent;scheme=lqid;package=com.scale360.shopbankuk;end',
    };
    const isMobile = {
      android: function() {
       return /Android/i.test(ua);
    },
    ios: function() {
      return /iPhone|iPad|iPod/i.test(ua);
    }
  };
  console.log('isMobile', isMobile)
  if (isMobile.ios()) {
    iosLaunch();
  } else if (isMobile.android()) {
    androidLaunch();
  } 
  function launchWekitApproach(url) {
    document.location = url;
  }
  function launchIframeApproach(url) {
    var iframe = document.createElement('iframe');
    iframe.style.border = 'none';
    iframe.style.width = '1px';
    iframe.style.height = '1px';
    iframe.onload = function() {
      document.location = url;
    };
    iframe.src = url;
    window.onload = function() {
      document.body.appendChild(iframe);
    };
  }
  function iosLaunch() {
    // chrome and safari on ios >= 9 don't allow the iframe approach
    if (
      ua.match(/CriOS/) ||
      (ua.match(/Safari/) && ua.match(/Version\/(9|10|11|12)/))
    ) {
      launchWekitApproach(urls.deepLink);
    } else {
      launchIframeApproach(urls.deepLink);
    }
  }
  function androidLaunch() {
    if (ua.match(/Chrome/)) {
      document.location = urls.deepLink;
    } else if (ua.match(/Firefox/)) {
      launchWekitApproach(urls.deepLink);
    } else {
      launchIframeApproach(url.deepLink);
    }
  }
  </script>
</body>
</html>